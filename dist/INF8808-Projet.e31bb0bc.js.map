{"version":3,"sources":["scripts/onglet1.js","scripts/onglet2.js","scripts/preprocess.js","scripts/onglet3.js","scripts/chord.js","index.js"],"names":["build","div","bounds","d3","select","node","getBoundingClientRect","margin","top","right","bottom","left","width","height","svg","append","attr","csv","d","date","timeParse","Barges","Excursion","Fishing","Merchant","Other","Tanker","Tugs","then","data","keys","columns","slice","color","scaleOrdinal","domain","range","schemeSet2","stackedData","stack","x","scaleTime","extent","call","axisBottom","ticks","text","y","scaleLinear","axisLeft","areaChart","area","y0","y1","selectAll","enter","key","style","highlight","noHighlight","size","_","i","on","removeDuplicate","name","cleanPortName","words","split","forEach","word","index","length","newWord","toLowerCase","letterIndex","letter","match","substring","toUpperCase","join","isPortExcluded","includes","dataPerMonth","dataPerPort","selectWidth","selectHeight","data1","data2","data3","concat","transformDataPorts","transformDataMonths","setHistograms","setStackedBar","map","Map","line","arrivalPort","departurePort","has","set","get","traffic","Array","from","values","sort","a","b","departureDate","Date","setDate","arrivalDate","setMonth","getMonth","sDate","toDateString","month","nb","buildTable","xScale","scaleBand","padding","yScale","max","tickValues","filter","tickFormat","timeFormat","topTraffic","row","selected","classed","port","undefined","selectPort","reset","nbLines","property","html","title","setHistogram","id","hist","histogram","value","thresholds","bins","x0","x1","total","type","subtype","number","subtypes","colors","darker_colors","currSum","entries","color_list","Math","ceil","GLOBAL_VESSEL_TYPE","REGION_NAME","REGION_COLOR","findGlobalVesselType","vesselType","clean","cleanData","element","push","chordMatrix","matrix","departureRegion","arrivalRegion","j","count","reduce","partialSum","v","Number","buildHeatmap","myGroups","preproc","myVars","myColor","transformData","heatmapMap","keyStart","keyStop","current","p","Region","Type","transformedData","rectSelect","rectUnselect","bandwidth","initLegend","drawLegend","region","toFixed","remove","colorScale","defs","linearGradient","tick","nodes","offset","fill","scale","axis","axisRight","innerRadius","outerRadius","res","chord","padAngle","sortSubgroups","descending","links","datum","source","target","console","log","subindex","ribbon","radius","groups","arc","event","highlightGroup","unhighlightGroup","startAngle","PI","showTooltip","unshowTooltip","onglet1","chordData","onglet3","$","click","hasClass","tab","removeClass","addClass"],"mappings":";;AKAA;;AACA;;AACA;ADFA,AJAA,AGAA;AEGA,ALFO,AEDA,IAAMmK,KFCGnK,KAAT,CAAeC,GAAf,EAAoB,EEDI,GAAG,CAAC,QAAD,EAAW,WAAX,EAAwB,SAAxB,EAAmC,UAAnC,EAA+C,OAA/C,EAAwD,iBAAxD,EAA2E,QAA3E,EAAqF,MAArF,CAA3B;AFEL;AACA,AEFK,IAAMmK,EFELlK,MAAM,GAAGC,AEFO,EFEL,CAACC,AEFO,CAAC,KFEX,CAAU,EEFA,EAAW,SAAX,EAAsB,MFEhC,EAAiCC,IAAjC,GAAwCC,MEF9B,EAA6C,aFEvD,CEFU,CFEzB,CEFsF,WAA7D,EAA0E,SAA1E,EAAqF,QAArF,EAA+F,qBAA/F,EAAsH,qBAAtH,CAApB;AFGL,MAAIC,MAAM,GAAG;AAACC,AEFT,IFESA,AEFH6J,GFEM,EAAE,EAAN,KEFU,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,SAAnE,EAA8E,SAA9E,EAAyF,SAAzF,CAArB;AEAP,AJEyB5J,AGFlB,IHEkBA,KAAK,AGFdT,EHEgB,GAAjB,AGFR,CAAeC,GAAf,EAAoB;AEG3B,ADFA,AJCqCS,AGDnC4K,CEED,CFFCA,EHCmC5K,MAAM,CKChCP,CLDkC,CKC5C,CLDc,AGDD,CEEC,AFFAF,GAAD,CAAZ;AEGE8O,ADFJ,AJAiDpO,AGAhD,ADAD,EGEIoO,AFAJ,EHFiDpO,IAAI,CKE1C,AHFF2J,CGEGtK,ALF2C,KKEnD,CAAcG,EAAE,CAACC,MAAH,CAAU,GHF5B,CAA8BmK,UAA9B,EGEkB,AHFwB,CGEtC,EADW,CAEX;AACA,ADHJ,AJDe,AECb,GFDA,GECI,CAAC,kBAAD,EAAqB,gBAArB,EAAsC,aAAtC,EAAoD,eAApD,EAAoE,eAApE,EAAoF,WAApF,EAAgG,qBAAhG,EAAsH,wBAAtH,EAAgJ,qBAAhJ,EAAuK,oBAAvK,EAA4L,sBAA5L,EAAmN,aAAnN,EAAiO,WAAjO,EAA6O,eAA7O,EAA6P,mBAA7P,EAAkRrF,QAAlR,CAA2RqF,UAA3R,CAAJ,EAA4S;AGK1S,ADJG,AJFL,AEEE,MFDF3J,GICcZ,EJDT,AECI,GEAJ,AJDGE,CICYD,GAAf,CFAH,CEAuB4B,AJDX,CAACjB,GICV,EAA0B,AJDvB,GAAeL,MAAM,CAACI,IAAtB,GAA6BJ,MAAM,CAACE,KAD5C;AKOE,ADJF,AJHA,AGGF,ADAG,GAFD,GFCAI,GGCOyK,ADAA,GFDD,CECK,CAAC,CFDH,MAAM/K,AGCjB,CAAsBN,GAAtB,EHDuB,AGCI,CHDHO,GAAb,GAAmBD,CECjB,EAAwB2E,GFDD,CAACxE,IECxB,CAAiC6J,CFH5C,CAHyB,CAOzB,OEDW,CAAJ,EAAkD;AGKvD,ADJF,ADAA,ADAE,MEAIrK,KFAG,CEAG,GAAGC,EAAE,CAACC,IFAhB,EEAa,CAAU,qBAAV,EAAiCC,IAAjC,GAAwCC,qBAAxC,EAAf;ACME,ADJF,AJDA,AGCA,ADDC,GAFM,GEGHC,AJDAO,GAAG,AEAA,GECG,AJDAb,CEAC,CAAC,CECC,AJDA,CAACG,MAAJ,CAAW,EEAV,EAAc,iBFAf,EACTW,MADS,CACF,KADE,AEAC,EFERC,AEFuD,IFAhD,CAEF,OAFE,EAEOJ,AEFN,EAA+D,GFEpD,GAAGL,MAAM,CAACI,GEFrB,CFEM,CEF2E,EFErDJ,MAAM,CAACE,KAFpC,EAGPO,AEHQ,EAAmG,EFApG,CAGF,QAHE,CEAC,CFGOH,CEH0G,KFGpG,GAAGN,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,CEHpC,EAAgJ,GFAjJ,EAITK,MAJS,CAIF,EEJG,CFAD,CEAiK,CFKxKC,IALO,CAKF,KELG,EAA6K,IFA9K,EAMF,eAAeT,MAAM,CAACI,GENnB,CFMH,CENiN,EFMpL,GAA7B,GAAmCJ,AENhC,EAAwN,IFMlL,CAACC,GAA1C,GAAgD,EEN7C,CFAD,CAAV,AEAkP,SAAvO,EAAkP,SAAlP,EAA6P0E,QAA7P,CAAsQqF,UAAtQ,CAAJ,EAAuR;AGM5R,ADJA/J,AJMFL,AGNA,ADDE,EFOFA,EINEK,AJMA,CAACS,CGNGV,CCAD,CJML,CINO0J,AJMA,EEPE,CCCG,CCAD,CAACpC,CDAG,ECAR,CAAS3H,EFDd,IECoB,CAACU,EJMvB,EAA2B,CINX,GAAa,IAAtB,EAA4B,AJMCM,CAAT,EINpB,AJM+B,CIPzB;ACMX,ADJAT,AJME,AGPYD,ADAf,GAFM,CEGLC,ADDcD,GAAG,ECCZ,ADDc,ADAd,EECEN,AJME,AGPI,EDAJ,CAAC,GECG,CAACU,IFDL,CECF,CFDa,EECA,IAFT,UFCF,EAA6B,eAA7B,EAA8C,eAA9C,EAA+D,iBAA/D,EAAkF,kBAAlF,EAAsG,oBAAtG,EAA4H,gBAA5H,EAA8I,kBAA9I,EAAkK,eAAlK,EAAmL,oBAAnL,EAAyM,cAAzM,EAAyN,oBAAzN,EAA+O,6BAA/O,EAA8Q,iBAA9Q,EAAiS,gBAAjS,EAAmTsE,QAAnT,CAA4TqF,UAA5T,CAAJ,EAA6U;AEElV7J,AJMIS,AGRmBV,ADCvB,IECAC,ADFuBD,EHQnBU,GGRwB,CCEtB,AJME,CGRsB,ADCvB,CECCjB,AJMGC,AGRE,EHQA,CAACiB,GINA,CAACR,EFDf,GECQ,AJMG,CAAa,EINH,IAHV,IJSA,EAAyBM,CAAC,CAACC,IAA3B,CADF;AKAThB,ADJAQ,AJMIU,ACpBR,AEWqCX,ADElC,EGKCP,CHPK,CGOH,ADJFQ,ADHiCD,CEO9BO,CLECI,EKFJ,ADJI,CCIG,AHLF,CECCnB,ADHiC,EHS7B,AGT+B,CDEhC,CFOIgB,AGTA,ADEH,CFOI,CINF,AJMGG,CINFT,KAAP,AJIG,GIJU,ECInB,EAA2BgB,IAA3B,CAAgC,KHLvB,EAA4B,GGKIoN,SAAT,CHLvB,CGK2C,CHLA,aAA3C,EAA0D9J,QAA1D,CAAmEqF,UAAnE,CAAJ,EAAoF;AGMrFkD,ADTO,AJWPnM,ACnBD,AES0CX,ADG7C,GEJF,CCSM8M,AFRyC9M,EHUzCW,EGV6C,CEQxC,AJjBG0C,CIiBFhE,AFRyC,CDG5C,IGKH,ALES,CKFGG,CLEAe,CKFE,ALED,CKFEd,ALEDkB,KCnBf,CIiBa,AJjBY2C,CIiBF,ELDjB,AEJT,CDZG,EAA+B,WIiBlB,CAAZ,EAAyC+K,SAAzC;AACH,ADVH,AJYMzN,ACnBJ,AEQa,ADId,GGGC,AFPF,ADEO,GEEJ,AJOGA,ACnBA0C,GCYC,CDZG,GDmBG,AEPH,CDZI,ACYH,CFOK/C,CAAC,CAACK,OAJP,KCfT,EAA6B,ECYrB,EAAsB,mBAAtB,EAA2C,uCAA3C,EAAmF,gBAAnF,EAAoG,mBAApG,EAAwH,wBAAxH,EAAiJ,mBAAjJ,EAAqK,uBAArK,EAA6L,uBAA7L,EAAqN,eAArN,EAAqO,eAArO,EAAqP,gBAArP,EAAuQ2D,QAAvQ,CAAgRqF,UAAhR,CAAH,EAAgS;AGOrS0E,ADNFrO,AJOMY,ACnBA,AEON,ADKE,EGMAyN,ADNFrO,IJOMY,AGXJZ,CCIG,ECMI,CAACZ,ADNFE,CHZK,AEQN,ADIE,GFOK,AGXJ,CEUR,CAAcC,ADNF,AJOGe,CIPFN,AJOG,CKDA,ALCCY,CKDApB,AHNjB,CCJcG,ECIR,CHZF,EIkBU,ADNOA,CCMG,ALJf,AGNW,CAACI,ICIM,ADJnB,CCIoBA,EDJAJ,ECItB,GAA6BA,CDJD,CAACE,CEUrB,CAAd,EAjBW,ADW8B,CCQzC,ADR0CA,ADL5C,KCDA;ACgBD,ADhBC,AJcMgB,ACnBH,AEMH,ADMC,CGZH,EAqBGtB,AHXM,EGVT,CDYEU,AJOMY,AGXJZ,GDIK,EFOI,CIPL,ADJE,CHWMK,AEPH,CFOI,AEPH,CEAHhB,AJOOuB,AGXL,IDIA,CFCA,CIDI,ADJElB,ADIE,CEAHK,KAAP,ADJc,CAACJ,ECIAD,CDJb,ADIA,EAAoB,CCJDA,ECIA,CAACC,GAAtB,ADJ2B,CAACE,ECIAH,GFA1B,CCNX,CAJyB,ADUqB,CEAH,ADF3C,CCE4CG,MAP5C,GFOW,EAAgD,YAAhD,EAA8D,eAA9D,EAA+EwE,QAA/E,CAAwFqF,UAAxF,CAAJ,EAAyG;AEEhH,AJMM,AEPJ,MECI+C,KFDG,MECQ,AFDf,GECkBpN,KJMKgB,CINC,AJMA,CINCN,AJMA,KINP,GAAe,GAAnC,CAb+B,CAaQ,IJMb,CAPf;AKUbsO,ALFQxN,ACpBJ,AEUF,ADGC,CGSF,CAAC,CHXO,GFSDA,AGVAZ,GFVGmD,AEUA,ADGF,GFOK,AGVAhE,CFVV,CDoBaiB,CKEhB,ALFiB,AGVD,CEYjB,ALFmBQ,AGVDtB,CEYD+O,KAAjB,ALVa,AGFC,CEYS,AFZE,YEYU,IFZrB,EACXpO,MADW,CACJ,KADI,EAETC,IAFS,CAEJ,OAFI,EAEKJ,KAAK,GAAGL,MAAM,CAACI,IAAf,GAAsBJ,MAAM,CAACE,KAA7B,GAAqC,EAF1C,EAGTO,IAHS,CAGJ,QAHI,EAGMH,MAAM,GAAGN,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,MAHnC,EAIXK,MAJW,CAIJ,GAJI,EAKTC,IALS,CAKJ,WALI,sBAKsBT,MAAM,CAACI,IAL7B,cAKqCJ,MAAM,CAACC,GAL5C,OAAZ,CATyB,CAgBzB;AEME,ADTF,AJOMmB,ACpBP,ACaG,MGSI,ADTA4L,AJOA5L,CKECuN,CAAC,CAAC,CLFC,CEPD,CFOIhO,CKEL,ALFM,CKEP,ALFQS,CKEAyN,EDTE,CFAf,EEAkB9B,GCSb,CAAiB,ODTO,GAAG,EAAlC,CAd+B,CAgB/B,KCOO,CAAL,EAA4C;AACxC,ALZK,AGMX,ADHC,KFHG,CGME/B,EEMM8D,GAAG,GAAGH,AFNJ,CEMK,CAAC,CFNH1D,GEME,CAAD,CAAQ3J,EFNF,CAACsI,CEMP,CAAa,KAAb,CAAZ,UFNN;AEQM+E,ADTN,AJMC,ACpBI,AEgBL,ADHD,GFLC,CKeMA,CAAC,ALHJtN,CKGK,ADTFd,ADEA2K,GCFG,AJNT,ACRcvH,CDoBL,EINGjE,ADEA,GCFG,ADEAuL,CCFCpL,IJMEyB,EINN,AHdP,AEgBiB,CCFC,AHdKoC,AEgBLmG,CHId,CKGF,CAAD,ALHkB,CKGKkF,AJvBxB,EAA6B,KEgBlC,CAlByB,CAoBzB,EEKM,CAAmC,MDT7B,EACXvO,MADW,CACJ,ICQF,CDTM,EAETC,IAFS,CAEJ,OAFI,EAEKJ,KAAK,GAAGL,MAAM,CAACI,IAAf,GAAsBJ,MAAM,CAACE,KAFlC,EAGTO,IAHS,CAGJ,QAHI,EAGMH,MAAM,GAAGN,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACG,MAHnC,EAIXK,MAJW,CAIJ,GAJI,EAKTC,IALS,CAKJ,WALI,EAKS,eAAeT,MAAM,CAACI,IAAtB,GAA6B,GAA7B,GAAmCJ,MAAM,CAACC,GAA1C,GAAgD,GALzD,CAAZ,CAjB+B,CAwB/B;ACGM0O,ALHJ,ACpBAjL,EAAAA,EIuBIiL,CAAC,CAAC,AJvBF,EDoBEpN,CCpBCkC,CIuBF,CAAD,CAAQuL,ALHF,GAAG1N,IAAI,CKGb,ALHcE,CKGG,GJvBC,CAACkC,EDoBV,CAAajC,CCpBJ,CAAtB,GDoBa,CAAmB,CAAnB,CAAb,CADsB,CACc,EKGhC;AAEAkN,ADJN,AHpBE,AEiBF,ADJK,IGWCA,CAAC,CAAC,ADJFrE,AHpBE1G,AEiBF3B,CAAC,EDJOgI,CCIJrK,CFjBG,CGoBD,ADHA,CAACuH,CFjBGzD,ACaX,CEOUuH,AFPK3J,GDbA,CAACuC,ACahB,CGWE,CAAD,AHXoB,CGWFkL,ADJF,ADHZ,CCGa1E,CHpBP,CAAW,AEkBxBxI,KADO,CACD,CAAE,CEML,AFNG,CEM2B,ADJrB,CAAoBP,AHpBnB,AEkBFjB,CFlBZ,GGoBa,CDFN,CCEgC,ADH/B,EAEPuB,IEKG,EFPI,CAEAoJ,GCCK,EAAwC,GDH7C,EAGP5D,OCAY,ADHL,CCGV,ADAW,IAHD,CAAV;AEQMuH,ADHN,AJDE,ACpBA/K,AEqBFrD,ADRA,EDbEqD,AEqBFrD,EEGMoO,CAAC,AFHJ,CCAGtF,ADAF7I,ADRE0J,CDbC,CDoBCxI,ACpBAoC,IGqBI,ADAZ,CHDa,AGCF,ECAImH,AHrBb,ACaa,CFOCrL,ACpBA,AEqBhB,EHDkB,AGEfa,ADTe,CFOCkB,CEPnB,EEQsB,ADAtB,CCAuBmI,ADCf,GFtBS/F,IAAD,CDoBA,CCpBOC,CIwBK8K,CLHvBlN,AGAL,CCAA,CCGO,AD9BwB,CA6B/B,AHvBgB,EAAiB,CDoBjB,CACJL,IADI,EAEXM,GKEC,CAAqCmN,CLJ3B,CAELpP,EAAE,CAACkC,GKER,AFF+BxB,CEEe,KFHpD,CHDgB,CAAd,MKII,AFDH8B,IAFH,CAEQxC,EAAE,CAACyC,UAAH,CAAcJ,CAAd,CAFR,EAGGc,SAHH,CAGa,MAHb,EAIGtC,IAJH,CAIQ,WAJR,EAIqB,8BAJrB,EA1ByB,CAgCzB;AEFG,ALDD,ACvBI,ACaNa,EAAAA,IAAI,CAACwC,CFUG/B,ACvBEgC,IAAI,CAACE,CCaf,CAAa,IFUM,ACvBT,GDuBYrE,ACvBE,CAAlB,CDuBkB,CAACoC,ACvBE,ACadmI,KFUS,EEVF,CFWf5I,CEXmB,GFUF,CACZA,IADY,EAEnBD,IAFmB,CAApB,CAPsB,CAWtB;AKFH,ADFC,AHtBU,AE0BV,ADbE,CGCJ,KDQQ2L,ADIAzK,CAAC,CDbD2H,CESG,CHtBKjG,AE0BJtE,ECJEA,ADIA,CAACuH,CCJC,CAAC+F,AFTF,CAAC,CDbO,GGsBT,AHtBYnJ,EE0Bd,CCHPoJ,CHvByB,ACaf,CDbgBhJ,AE2B1BtC,ADdG,IAAqB,CCajB,ADbJ,CESM,ADKH,CCJG,ADIDvB,EDbL6J,EEQM,AHtBY,EGuBF,AHvBZ,AE2BD,EAAU,CAAV,ADbI,CCYH,ADZI,ECcXvI,KDdU,CCYH,ADZJ,CCcIsJ,GDdgB,CAApB,ECYI,CDXJf,CCcH/C,MDdU,CCWH,ADXI,CCcH,IAHD,CAAV,WDXa,CAAP,GAA6B,EAF7B,IAGA+C,OAAO,CAAC,gBAAD,CAAP,GAA4B,CAAC,cAAD,CAHhC,EAGkD;AEMxC,AJKV,ACzBQ,AE4BV5J,ADbI2J,ECaJ3J,CCNG6M,EDMA,CAAC5M,ADbA0J,EFUIjI,CAAC,CCzBKmC,EDyBFxE,AGGZ,CAAW,CHHG,CAACsC,AEVF,CEKD,ADQZ,ADbckI,CEOGxK,CDOdwC,CCPgB,CAACiL,AFPhB,CDfqB,ACeN,CCanB,CACQzN,CHJI,ACzBgB,CAAlB,AE6BA,CAAC8C,CHHRd,GINS,EAGT0I,CJES,CACF1K,AGGF,CAAY4C,CHHR,AGGJ,CHHKL,AGEb,CCRY,CAAZ,AD7ByB,CCDM,ADyC/B,CCNA,EJCU,CAAUb,IAAV,EAAgB,UAAAX,CAAC;AAAA,AEVrB,aFUyBA,CAAC,CAACC,IAAN,KEVLuJ,OAAO,CAAC,cAAD,CAAP,CAAwB5F,SAAxB,CAAkC,CAAlC,EAAoC,EAApC,CADH;AEWnB,AJA2B,ACzBjB,AE+BV,ADfM,KFSI,CIAJ+I,AJDM,AGONnC,EHLHtJ,GIDQ,EJDC,ACxBK,AE+BJ,CCNCtB,AJCL,CAAE,CAAF,AGKOX,CCNC,AHzBP,CG0BT2N,AJAalN,AGKI,CF/BK,AE+BJoC,ICNL,AJCL,CIAFwK,AJFK,CAAV,EICY,AFTW9C,EEWxB3J,CDIe,GACbqB,CDhB6B,CESlB,AFTmB,CEWzB,EDIQ,CCNF,ADOL,CAAC,CCJTpB,IAHa,CAGR,CDIG,EAAU,CCPL,EAGF,AFZoB,CAFb,KCkBV,CCPK,ADME,ECFfsC,ADIEnB,MAFa,CAEN,CAAC,CCRG,ADQJ,CCJC,CDIE,EAAH,CAFM,CAAhB,CCNc,ADnCW,CA2CP,CCHjBN,IALa,CAKR,UAASX,CAAT,EAAY;AAAE,AJHlBJ,AC1BY,ACgBR,IFUJA,GAAG,CAACC,GIGqBG,CAAP,AH7BA0D,ED0BlB,CAAW,GAAX,AC1BwB,ED2BrB5D,CC3BwByD,GD0B3B,CACQ,CEXciG,EDhBY,CAAC/F,ICgBN,CAAC,EFU9B,EACqB,EC3Ba,CAAtB,SCgBiB,CAHZ,IFcqB9D,MAAjB,GAA0B,GAD/C,EAEG8B,IAFH,CAEQxC,EAAE,CAACyC,UAAH,CAAcJ,CAAd,EAAiBK,KAAjB,CAAuB,EAAvB,CAFR,EAfsB,CAmBtB;AID6B,ADM/B,ADlBM,GEOQ,EAMbU,KANa,CDWLoI,ECJR5K,MAPa,CAON,IDIR,CAAuBG,CCXT,ADWd,ECHGF,ADGuB8F,EDlBE4D,EEOd,CAQN,IFf2B,CAAC,EEOtB,CDWd,CCHiB,CDGwBzD,MCX3B,EASXlD,EATW,CASR,ADEN,EAAsD,EDlBnB,CAJhB,OEWL,EASM,gBAA2BF,CAA3B,EAA8B;AAAA,AJFhD/C,AC9BY,AEmCZ,ADlBI,IFaJA,GAAG,CIEyBiN,AJFxBhN,AGKAgF,GAAG,CFnCSnB,EGgCgC,AJFhD,AGKUgH,CHLC,GC9BW,CAAC/G,ED8BvB,CIE4BkJ,CJDzB/M,CC/Ba,AEmCI,CFnCS,CEmC7B,ADlBsB0J,CFatB,CIEgD,AJDxC,KC/BQ,ACiBa,CDjBjB,ACiBkB,EDjBU,KD8BxC,EACuB,KADvB,EAEG1J,AEf0B,CAAP,CAA0B8D,EFahD,CAEQ,GAFR,EAEalE,CEfS,CAAoC,CAApC,EFatB,AEb6D,EFgB1DI,AEhBmB,CALL,GFkBjB,CAGQ,GAHR,EAGaH,MAAM,GAAC,EAHpB,EAIGiC,IAJH,CAIQ,OAJR,EApBsB,CA0BtB;AIJgD,AH/BhC2B,AEoChBvD,ADnBI,ICmBJA,CAAC,CAACmD,ECLkC2J,EH/BpBvJ,GEoChB,CCLgD,ADKtC,GFpCa,GAAGA,EG+BUuJ,EDK1B/H,GFpCuB,CG+Be,AH/BdnB,AEoCpB,CDnBW4F,CCmBP,MDnBc,CDjBN,ACiBO,CDjBW,CAAlB,EAAqB/F,WAArB,IAAoCC,ACiB9B,CANf,KDXmD,CAACG,WAAP,EAApC,GAA2DN,OAAO,CAACK,SAAR,CAAkBH,WAAW,GAAG,CAAhC,CAArE;AGgCdsJ,AJIF,ACnCgB,AEoCd,ADnBE,IEcFA,IJIIlL,CAAC,CGCD+D,CCLG,CAACoH,AJIA/N,EAAE,CIJV,AJIW6C,QGCM,GCLFwI,AJIP,CGCatK,CAAC,ADnBAwJ,CFmBrBvI,AGAsB,ICLD,CAACiI,CJIf,AElBqB,CFmBrB,AEnBsB,CFmBrB,CAAD,EAAI,GAAJ,CADA,CIJO,ADKO,CCLa2D,AJKb,AGAlB,IAAwC9G,ECLH,CAAC1C,CFdb,CAPd,GEqBA,CAAf,EDKuD,IAAIrD,CAAC,CAAC,UCLLsK,IDKI,CAA5D,ECL+D,ADKe,CCLdpB,WAAR,CAAoB2D,MAAM,CAACI,QAA3B,CAAxD,gBAAkGJ,MAAM,CAAC7E,KAAzG;AACD,AJGS,AClCG,AEqCX,ADpBE,GEGQ,EAYXlI,AJIEoB,IIhBS,CAYN,AJEI,AGGFyJ,CHDC,CAAEhL,CIhBC,EAYDV,EAAE,CAACiO,AJIL,AGCO,ADpBF1D,EFmBK,CAAV,AGCUzE,CHHT,CAAV,CIFW,CDKY,ADpBF,CCoBG,ADpBF,CEgBnBoI,MADQ,CACDf,AFhBW,CARJ,SC4BM,CCLZ,ADKQ,CCjBP,EAeX7J,ADE2CwC,IAAI,CCjBpC,ADiBqC,CCF1C,MAfK,EAeG,UAAS/E,CAAT,ADEiC,CAA9C,CCFwB;AAAE,AJE5BJ,AGCE,ADpBE,IFmBJA,GAAG,CAACC,EGCI+K,CCH2BlC,GJEnC,CAAW,EIF8B,ADG1B,CCH2B1I,AJE1C,CIF2C,CAAC6M,AJGzCpL,AGAesD,IHDlB,AGCsB,CHAd9F,AGAe,CCHmB,CAASoE,AJGzC,AEpBamG,CFoBZzH,IIH8B,CAAb,CFjBE,CAAC,CFoBvB,CAAYF,CAAZ,EAAeF,CGAD,CAAJ,GHAV,AGAiCoD,CHAZ,EAArB,CADR,AGC6C,CAAC,CH/BxB,CAiCtB,AEtB8B,CATb,iBC6B4B,CAA3C;ACH0D,AHlChDtB,ACkBR,GECQ,EAekD,GHlClDA,WAAW,IAAI,ACkBR+F,CDlBP,MCkBc,CAAC,aAAD,CAVT;AEWL,AJqBZ5J,ACvCS,AEqCP,ADnBE,GEgBH2C,CJKD3C,GAAG,CIrBS,AJqBRC,CILG,CDGD,CAACgF,GHEP,AGFU,CHEC,AGFAK,ECnBC,CDmBL,CCHU,ADGFyF,EHEf,EACG7K,GItBS,CJqBZ,AGFO,CCFNA,AJKO,AGHN,EAAwB,ADnBAsJ,EEAd,CAiBN,QJIN,CIrBY,CJsBW,CILN,GAjBL,CAAd,AJqBE,CIzD6B,CAuD/B,AJIKtJ,AEvB2C,CAAC0J,GFqB/C,CAEQ,GAFR,AErBsD,CAAC,CFuB1C,CAFb,EAGG1J,IAHH,CAGQ,GAHR,CErBsD,CFwBzC,AExBiC,CFwBhC,AEnCG,EFgCjB,EAIG8B,IAJH,CAIQ,mBAJR,EAKG9B,IALH,CAKQ,aALR,EAKuB,OALvB,EAlCsB,CAyCtB;AIRF,ADAM+E,ADnBA,QCmBAA,GAAG,CAACM,GAAJ,CAAQwF,CDnBCnB,OCmBT,ADnBgB,CAAC,CCmBC,MDnBF;AF4BpB,AC9CQvG,AEsCF,ADhCW,MDNTA,CCMN,CFwCIjB,GC9CO,CAACqB,KD8CC,AC9CF,CAAL,ED8CUzD,AGRFmF,CFtCOxB,ED8CF,CAAC1D,AGRF,CAAC,GFtCb,ED8CU,CAAW,GAAX,CAAlB,QGRoB,CAAJ,CAAyBiB,KAAzB,CAA+B,CAA/B,EAAiC,CAAC,CAAlC,CADM;ACCxBlB,AJSE,AC9CK,AEsCC,ADnBL,EEkBHA,GAAG,CAACgN,EJSI3K,GITR,CAAUqK,AJSE,GITZ,AJSerN,EIRZY,AJQc,CAACoC,AGRF8C,IHQD,AGRK,CCDpB,ADCqB,CCAX,CJSLzD,CADU,CITf,AJUO,EIRJxB,IAFH,CAEQ,GJQQE,CIVhB,AJUO,EIRO,AJQK,GGTC,CAFI,ICCxB,EAGGoC,SAHH,CAGa,GAHb,EAIGzB,IAJH,CAIQ,UAASX,CAAT,EAAY;AAAE,AJMD,AC9ClB,AEsCK,ADnBP,GDlCC,ACcF,QEyC6BA,CAAC,CAACoN,AJMH9L,CAAC,CAACtB,CAAC,CAACW,EINV,ADFL,EHQa,CAAOV,IAAR,CAAR;AINmB,AJMK,AC7C3C,AEkCsB,ADdxB,GEeA,EAKGoC,AJIY,EAEVH,EAFU,AC5CNe,AEkCH,ADdCsG,CEeP,AJWQ,GILL1J,CHzCW,CAACiE,GCoBf,CEeA,AHnCS,CGyCC,AJKO9D,AC9CG,CD8CZ,EIXR,AJWoB,AC9CX,CAAP,CG0CCF,IAPH,CAOQ,OAPR,EAOiB,OAPjB,EAQGD,MARH,CAQU,MARV,EASK0C,KATL,CASW,MATX,EASmB,UAASI,CAAT,EAAWC,CAAX,EAAa;AAAE,AJEZ,AC7CvB,AEsCM,ADlBN,OCYK,ICWqC8F,EJEZ7G,AGPlB,CHOmB,CAAC7B,CAAC,CIFe,AJEd,CIFe4C,AJEhB,CIFe,AJEjB,CIFI,AJEZ;AIF8B,AJEb,AGNjC,GCLN,EAUKL,AJDU,EAGVJ,EAHU,CITf,AJYQ,CIFG,CDLC0I,OCLZ,ADKmB,CHOF7K,CIFI,AJEb,CGPc6E,CHOF,EGPK,CAACO,ECL1B,CDKsB,CCMjBtF,ADNyB6K,ICL9B,CAWU,GAXV,ADKsB,CAAhB,CCMS1L,EAAE,CAACoO,GAAH,GACRjB,WADQ,CACIA,WADJ,EAERC,WAFQ,CAEIA,WAFJ,CAXf,EAeKxJ,EAfL,CAeQ,WAfR,EAeqB,UAASyK,KAAT,EAAgB3K,CAAhB,EAAmB;AAClCoK,AJJgB,AC5CjB,AEsCClC,ADlBD,IE4BCkC,IDVAlC,CFtCQ9G,ACoBA2F,EE4BD,CAACsD,CJJenL,CAAC,CIIxB,AJJyB7B,AGNlB,CHMmB,AGNlB+J,CHMmB,CAAD,CAAF,CAAR,AExBjB,CCkBC,ADlBoBpJ,EDpBrB,CAAwBoC,CEsCN,ADlBlB,CCkBC,CDlB0B6C,CDpB3B,EAA8B,MGgDP0E,IF5BvB,EAA0CvE,CE4BZ,CAACmD,SF5B/B,EE4BuB,AF5BgC,CE4BZoE,KAAK,CAACjK,KAA1B,CAAtB,eAA2DiK,KAAK,CAACtF,KAAjE;AACAuF,AJLiC,AC3CrC,AEsCI1I,ADlBN,IE4BM0I,CJRS,CAAb,ACxCIxK,ACoBA4G,CFvBkB,CAgDtB,AGPI9E,EFtCI,CAACb,AEsCF,CAACmB,ADlBE,GCkBN,ADlBS,CCkBDwF,ECUM,CAAC2C,AHhDf,ACoBahI,CDpBC,IGgDA,ADVd,ADlBS,CAAU4D,CE4BGyD,ADVJ9B,KCUJ,CAAd,CDVA,GDlB8B,CDpB9B,ACoB+BvH,CDpBnC,EAAsC,GCoBzB,CAAf;AE6BK,AHhDC,AEsCD,GCRL,EAmBKT,EAnBL,CAmBQ,GHjDK,IAAP,KG8BN,EAmBsB,YAAW;AAC3B2K,AJLJxL,AC5CC,ACmBH,IE8BMwL,AJLJxL,GEzBG,IAAIqB,EFyBE,CACRjB,EE1BW,GAAG,CE8BK,AF9BtB,CE8BuBuK,CF9BHtJ,CFyBlB,CACW,EIIS,CAAhB,AF9BmB,GAAGsG,IFyB1B,EAEChJ,AE3B+B,CAAC2C,GFyBjC,CAEMlC,EE3BR,EAA2CiC,KAAK,EFyB9C,AEzBF,EF4BGhB,AE5BiD,KFyBlD,GAICxC,MAJD,CAIQ,MAJR,EAKGC,IALH,CAKQ,OALR,EAKiB,UAASE,CAAT,EAAY;AIC1B,AJD4B,AGX7B,ADlBF2J,GESF,CFTEA,CEhD6B,CAgF/B,IDdQ,ADlBA,CCkBC9E,ADlBAxB,EF6B+B,CGX5B,CAAC6B,CDlBL,CAAN,CCkBO,CAAQ0F,CDlBC,IAAItF,CF6B8BtF,CAAC,AGX5C,CHW6CsC,AGXlD,EAAuB,ADlBT,CF6Be,AE7BL4G,WAAW,CAAC5F,MAAtB,CAAhB;AF6ByD,AChDzD,AEsCIuB,ADlBL,KFuBC,EAMGtC,CGXCsC,CFtCG,EEsCA,CHKP,AGLQM,CHWC,CCjDT,CEsCI,CAAQyF,GHKZ,EAMiB,EGXb,EAAiB,MHWK5K,CAAT,EAAY;AIG/BJ,AJHiC,AChDlC,AEsCS,ECaRA,GAAG,CAACgN,KAAJ,CAAUN,CJH8BvL,EIGxC,EACGlB,CJJ0C,CAACG,CAAC,AGV7B+E,CHU8BzC,EIGhD,CACU,AJJmC,AGVvB,CHUW,AGVV,ECavB,EAEGxC,IAFH,CAEQ,IAFR,EAEc,CDfQ,CAAJ,CAAuBgB,KCazC,ADbkB,CAA6B,CCgB5CsB,ADhBe,EAA+B,CAAC,CAAhC,CADK,ICcvB,CAGa,MAHb,EAIGzB,IAJH,CAIQ,UAASX,CAAT,EAAY;AAAE,AJPiC,AGT/C,ADlBRkJ,EAAAA,GFqBE,EAOGpJ,IIMwBE,AJb3B,CIa4B,AJNpB,CIMqBoN,AFlCpB,CAACjK,CFqBV,EAOalB,CGVC8C,CCgBM,EJbpB,AErBF,CCkBoB,ADlBA,CF5BI,AG8CH,CHYnB,QE9BmB6E,WCkBD,CAFG,GDhBH,EAAkBhH,CAAlB,EAAwB;AEkCJ,AHrD1C,AEsCU,ADlBNsG,GE6BF,CHjDEjF,ACoBAiF,CEkCC7G,KALH,GAMGxC,EFnCU,CDpBf,ACoBgBsD,GE6Bd,ADXiB,CCiBP,GANV,AF7BE,CAAoB,CEoCnBrD,IAPH,CAOQ,IFpCe+J,OE6BvB,EAOqB,IFpCC,EAAgBC,CAAhB,EAAsB,CEoCd9J,CAAT,EAAY;AAAE,AJNjC,ACjDJ,AEkCyB,ADdnB2J,IDpBFzF,ECoBEyF,EF6BInH,CGfF,ECqBoC,CFnChC,CAACI,CAAD,CDpBZ,ACoBM,CAAUkH,CF6BG,AE7Bb,GF6BgB,CE7BDnJ,GEmCoCX,CAAC,AFnCjC,CEmCkCyN,AFlClD5G,GF4BCrE,GE7BW,CACL,GEkCyC,EJNnC,CIMkD,AJNzCxC,CAAT,EIMmC,AJNxB,CE5BhBA,CAAD,CEkC8D+I,CFlCvD,GEkC2D,CAAC2E,EAA1B,GAA+B,EAA5C,IAAkD,cAAlD,GAAmErB,WAAnE,GAAiF,KAAxF;AAAgG,AJL/HpN,ACjDN,AEsCO,ADjBG,GE0BR,CH/CE0B,CGsDoI,CJLlI1B,CGjBA,CHiBE,ACjDR,CDiDSmD,IGXI,EDjBIwH,GF4BX,CAAa,SAAb,EAAwBrH,AE5BE,KF4B1B,AE5B+BvC,CF4BD,AE5BE,CAAC,QF4BjC,EAAyC,EAAzC,EAD2B,CACmB,GE5Bd,CAAD,CAAsBc,KAAtB,CAA4B,CAA5B,EAA8B,CAAC,CAA/B,CAApB,IACF+I,aAAa,KAAK7J,CAAC,CAAC,gBAAD,CAAD,CAAoBc,KAApB,CAA0B,CAA1B,EAA4B,CAAC,CAA7B,CADhB,IAEF8E,aAAa,IAAI5F,CAAC,CAAC,gBAAD,CAFhB,IAGF+F,WAAW,IAAI/F,CAAC,CAAC,cAAD,CAHrB;AE0BR,AH7CF,AEqCQ,ADdC,GE8BJH,CHrDCsE,GCiBe,EE4BnB,AFrBOU,CE6BG,EDhBEgG,ADpBO,CAOR,EDxBI,CG6Cf,EASG/K,AHtDe,EEqCC,CFrCrB,CG6CE,CASQ,ADjBc+E,ADbVmD,GEqBZ,ADRyB,CAAC5C,CCiBb,AF9BF,CEqBX,CDRsB,CCkBnBtF,ADlB2B8K,ICQ9B,CAUQ,EDlBc,CAAhB,CCQN,EAUc,OAVd,EAWG9K,IAXH,CAWQ,WAXR,EAWqB,UAASE,CAAT,EAAY;AAAE,AJR/Bf,AC/CN,ACuBa,IDvBPmF,ED+CAnF,EAAE,CAACC,EIQmCc,CAAC,CAACyN,EJRxC,AExBkBzF,CFwBR,AC/CE,GAAG,CCuBQ,CAAC+B,CFwBV/J,AC/CpB,CGuD4C,AJRtC,CC7CN,CD6CuBuC,CIQoCwG,AFhC9C,IEgCkD,AJRzD,CIQ0D2E,AJRnC,EIQe,GAAyB,IJR/D,EAAkC,CAAlC,EAF2B,CAEW,kBIQA,GAAwD,IAA/D;AAAsE,AJPtG,AGXG7C,ADdK,GEqBX,EAYGtI,AJXD,CA3DsB,CAgEtB,AElCiB,CCqBbsI,CDbCb,CEoBP,CAYS,IFxCU,CCqBN,ADbC,CCaAD,KAAR,ECON,EAYwB,ADnBD,ADbRE,CCaT,SCmB2BjK,AFhCnB,CEgCU,CFhCGkK,CEgCS,AFhCtB;AEgCwB,AHrDxCjL,AEmCQ4F,ADdQ,EDrBd,CAAC9E,GAAH,CAAO,CEmCC8E,GCkBuC7E,ADlBpC,CCkBqC,ADlBpCmF,CCkBqCsI,EDlBzC,ADd2BtD,CCcnBS,KDdyB,CAACX,CEgCK,ADlBvC,EFnCR,AEmCyBY,CCkBqC9B,CHrDnCrI,GGqDuC,CAACgN,AHrDnE,CAAiC,ACqBQ,CEgCM,ADlBvC,ADd2B,GEgCqC,AFhChBvD,KEgCT,CHrDL9F,ACqBoB,CAAC6F,CEgCiB,AFhClB,CAA9C,EDrBiB,CGqDO,CHrDS;AGqDsC,AHpDnFjL,AEmCG,ADfS,EDpBZA,CGwCF,CHxCI,CGqDDsD,AHrDExC,ECYc,CDZjB,CAAO,ACoBwD,CEoBjE,AF5BmB,CEyCV,AFzCL,ME4BJ,EAaiB,QHrDf,EGqDwB4C,AHrDGjC,CGqDZ,EAAYkC,CAAZ,AHrDf,CAAiC,CGqDJ,SHrDa0B,KAAT,EAAgB;AGqDlB,AJN/B,AC9CIrF,AEmCH,ADfA,IDpBGA,CEQJ,ADEA,CDVM,CAACc,CD8CD0C,EC9CF,CGoDkCiG,AHpD3B,MGoDiC,CAAC9F,CAAD,AJN3B,CIMc,EJNX,OC9ChB,ED8CEH,AC9CyB/B,IAA3B,CAAiC,MD8CjB,GAAU,CC9CgB6D,KAAT,EAAgB;AGoDH,AJLhDtF,AC9CM,AEoCR,ADhBD,GEkBD,AF9BA,EE4CGsD,CJNCtD,EAAE,AGVE6L,CHUD1I,AGVE,CCET,CAcS,CDhBG,EAAV,IHUE,CAAa,KIRjB,EAcwB,EJNpB,EAAwBG,EIR5B,EAeGX,CJPC,CAA8B,EIRlC,CAeQ,MJPJ,EAAyC,CAAzC,CIOa5B,CAAT,EAAY;AAAE,AJNnB,AC9CO,AEoCR,ADfF,KFuBE,CAjEsB,CAqEtB,CGZI2G,CDfCgD,EE+BsBW,ADhBpB,GAAG,CAAV,ADfF,GE+BoC,CAACpB,WAAR,CAAoBlJ,CAAC,CAACqD,KAAtB,CAAP;AAAqC,AHnDjD,AEoCRiC,ADfH,GEeC,CDAEA,KAAK,CAACC,IAAN,CAAWV,GAAG,CAACW,MAAJ,EAAX,EAAyBrC,OAAzB,CAAiC,UAAC6E,KAAD,EAAW;ACiB9C,AHpDU,AEoCN8C,MAAAA,CAAC,CAACrB,IAAF,CAAO;ACiBb,AJNI,AC7CQ9I,AEmCJ,MFnCIA,ED6CF+B,EC7CM,ED6CF,CC7CK2B,ED6CF,EAAb,CC7CoB,AEmCN2D,CFnCOxD,IEmCF,CAACuG,CFnCL,CAAazG,IEkCnB,CFlCM,EAAoBE,MAApB,CAA2BD,KAA3B,CAAP;AGoDZ,AJNI3E,AC5CQsE,AEkCJ,IHUJtE,EC5CQsE,CD4CL,CAAC9B,QGVQ4F,CHUZ,AC5CmB,CD4CL,EC5CQvD,CEkCL,CAACuG,IHUlB,AGZS,EHYiB,UC5Cc,CAACrK,IAAD,CAAhC;AGmDZ,AJPI,AC3CQsD,AEkCJ,KHUDtD,CC5CKsD,GD2CR,CACQrD,IADR,EAEGyB,CGXY2F,CFlCK,GD2CpB,AC3CuBtD,CEkCH,CAACqF,CHY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AHhDgB6E,AEkCmB,QFlCnBA,GAAG,CAACM,CEkCsBqF,EFlC1B,CAAQvF,IEkCyB,CAACjF,CAAC,CAAC+J,KAAH,CFlCjC,AEkCmB,EFlCI;AGiDvC,AHhDoB,AEiCwC,KAdxD,aFnBwB9E,aADW;AGkDvC,AHhDoB,AEkCdoG,IAAAA,UAAU,CAACzL,GAAD,EAAK4K,CFlCU,MEkCf,CAAV;ACeN,AHnDuC,AEqCjCc,IAAAA,KFrCU,KEqCA,CAAC5L,KAAK,GAAGL,MAAM,CAACE,KAAf,GAAuB,EAAxB,EAA4B,CAA5B,EAA+BI,MAA/B,EAAuC,EAAvC,EAA2C,gBAA3C,EAA6D6K,OAA7D,CAAV;ACeN,AHhDa,AEkCV,GArBD,IFlBU,MAKO;AGiDnB,AHhDgB3F,AEkCf,QFlCeA,GAAG,CAACO,GAAJ,CAAQH,aAAR,EAAuBI,OAAvB,IAAkC,CAAlC;AGiDhB,AHhDa;AGiDb,AHhDS,AEkCT,SAASqF,UAAT,GAAsB;ACetB,AHhDK,AEkCH,GF3DE,GE2DE7F,GAAG,GAAG,IAAIC,GAAJ,EAAV;ACeF,AH/CI,AEkCFwF,EAAAA,IFlCQpG,GEkCD,CAACgF,OFlCW,GAAG5D,CEkCtB,CAAoBnC,GFlCO,CAACoC,GEkC5B,CFlCsB,AEkCM,CFlCKV,GAAG,CAACW,KEkCR+F,CFlCI,EAAX,CAApB,EEkC0B,EAAY;ACc1C,AH/CIrH,AEkCAoG,EFlCApG,EEkCAoG,OAAO,CAACrB,CFlCG,CAACxD,IAAZ,CAAiB,UAAUC,CAAV,AEkCjB,CAA2BvC,CFlCGwC,CAAb,EAAgB,GEkCjC,CAAmC,UAAC2C,IAAD,EAAU;ACcjD,AH/CQ,AEkCF,UAAMhG,CFlCGqD,CAAC,CAACN,AEkCF,GAAGkG,IFlCH,EEkCS,CFlCG7F,CAAC,CAACL,AEkCFiD,IAArB,GFlCE;AGgDR,AH/CK,AEkCCzD,GFpCF,GEoCEA,GAAG,CAACM,GAAJ,CAAQ7C,GAAR,EAAa;ACcnB,AH/CI,AEkCI,SFlCG4B,SEkCOqH,EFlCd,IEiCe;ACenB,AH/CC,AEkCO,gBAAQjD,IAFG;ACgBnB,ADbQ,iBAAS;ACcjB,AH/CO,AE8BY,OAAb,EF9BU5D,mBAAT,CAA6B/D,IAA7B,EAAmC;AGgD1C,AH/CI,AEkCC,KAPD,CF3BMkE,GAAG,GAAG,IAAIC,GAAJ,EAAZ;AGgDJ,AH/CInE,AEkCD,EFlCCA,CEyBF,GFzBM,CAACwC,OAAL,CAAa,UAAA4B,IAAI,EAAI;AGgDzB,AH/CQ,AEkCN,QFlCYa,CEkCLf,GAAP,SFlCyB,GAAG,IAAIgB,IAAJ,CAASd,IAAI,CAAC,gBAAD,CAAb,CAAtB;AGgDR,AH/CQa,AEkCP,IFlCOA,aAAa,CAACE,OAAd,CAAsB,CAAtB;AGgDR,AH/CQ,QAAMC,WAAW,GAAG,IAAIF,IAAJ,CAASd,IAAI,CAAC,cAAD,CAAb,CAApB;AGgDR,AH/CQgB,AEkCR,IFlCQA,KEkCCmF,MFlCU,CAACpF,GEkCpB,CAAoB0D,GFlCZ,CAAoB,CAApB,EEkCR,EAA6BlI,CAA7B,EAAgCO,CAAhC,EAAmC;ACkBlC,ADjBC5C,EAAAA,EAAE,CAACC,MAAH,CAAUsK,OAAV,EACG3J,MADH,CACU,MADV,EAEGC,IAFH,CAEQ,GAFR,EAEa,UAASE,CAAT,EAAY;AFnCnB,AEmCqB,SFnChB,EEmCuBsB,CAAC,CFnCpBrB,AEmCqBD,CAAC,CAACgL,EFnCnB,EEmCgB,CFnCbpF,AEmCY,GAAYtE,CAAC,CAAC8J,QFnC1C,CEmCwC,CFnCTnL,IAAI,AEmCqB,CAAnC,GFnCkB8F,WAAvC,EAAoD9F,IAAI,CAAC+F,QAAL,CAAc/F,IAAI,CAACgG,QAAL,KAAgB,CAA9B,CAApD,EAAsF;AGoD9F,AHnDY,AEkCwD,GAFlE,EAGGnG,ICgBIyN,ADnBP,CFhCgBrH,AEmCR,GAHR,EFhCqB,AEmCR,GFnCWjG,IAAI,CGmD9B,AHnD+BkG,CGmDPmH,CDhBAtN,CAAT,EAAY,CCgB3B,EAA+B2M,IHnDL,CGmD1B,CHnDY,CGmD0B;AACpCA,ADjB2B,ECiB3BA,KAAK,CACF9F,GDlB+BhF,CAAC,CAAC7B,CCiBpC,ADjBqC,CCkB3B,ADlB4B+K,MAAH,CAAD,GCkBf/K,ADlB6B6B,CCkBtC,ADlBuC,CAACuJ,CCkB5B,QDlB0B,KAAgB,CAArC;ACkBH,AHpDd,AEkC0D,GAHpE,EAIGtL,IAJH,CF/Bc,AEmCN,CCiBuBE,AHpDhB6E,CGoDiB,CAACgI,CHpDf,CAAC3H,GAAJ,CGoDgB,AHpDRgB,CGoDiB7C,GDrBxC,CF/Be,CGoDgB,AHpDrB,AEmCa,EFnCQ,EGoDkBiK,IDrBjD,CCqBsD,CAACjK,ADhBpDvD,IALH,CCqBwB,ADhBhB,mBALR,EAK6B,QAL7B,EAMG8B,IANH,CAMQ,UAAS5B,CAAT,EAAY;ACe0C,AHnDhD6E,AEqCV,GCaJ,EAEG/E,GHpDW+E,CGkDd,CAEQ,CHpDS,AEqCN7E,CFrCOmF,AEqCN,CAAC4E,EFrCC,CAAQ7D,EEqCX,CCaX,ADbmBsF,ECeA,AHpDL,EAAe,CGkD7B,EDbW,CAAgB,CAAhB,IAAqB,GAA5B;ACgBL,AHpDmB,AEqCf,GARH,eF7B0BtF,KADG;AAEX,AEqCnB,qBFrC8B;AGqD/B,AHvD+B,SGuDtBsH,AHvDO,gBGuDhB,CAA0Bb,KAA1B,EAAiC;AAC/BA,AHpDW,AEqCb,ECeEA,KAAK,AHzDK,CGyDJ7M,CDfCqL,GCeP,CAAW,AHpDM,QEqCnB,CCeE,ADfoB3B,ECeE,GAAtB,EDfF,EAA+B;ACgB9B,AHpDe3E,AEqCd5F,EAAAA,EAAE,CAACC,GFrCW2F,GAAG,AEqCjB,CFrCkBO,AEqCRoE,GFrCI,CAAQtD,GEqCtB,EFrCc,AEsCXhH,EFtC0BmG,IEqC7B,CACU,EFtCI,IAA0B,AEqCxC,CFrCc,CEuCXoG,MAFH;AFpCW,AEuCZ;ACcD,AHpDS,SGoDAkC,WAAT,GAAuB,CAAE;AHnDpB,AEuCL,GFxDI,MEwDKtC,UAAT,CAAoBzL,GAApB,EAAyB8L,UAAzB,EAAqC;ACcrC,AHnDI,AEsCF,MFtCQzH,AEsCF0H,GCaCiC,CDbG,GAAGhO,GAAG,CAACC,CFtCG,GAAGyF,CGmDzB,CDbe,CAAW,CCaD,CAAE,AHnDG,CAACC,GEsChB,CFtCU,AEsCvB,CFtCkCV,GAAG,CAACW,MAAJ,EAAX,CAArB;AACAvB,AEsCFrE,EFtCEqE,AEsCFrE,GAAG,CAACC,MAAJ,CAAW,CFtCG,CAACsD,IEsCf,EAAmBrD,CFtCjB,CAAqB,E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","file":"INF8808-Projet.e31bb0bc.js","sourceRoot":"..","sourcesContent":["// Source : https://d3-graph-gallery.com/graph/stackedarea_template.html\nexport function build(div) {\n  // set the dimensions and margins of the graph\n  const bounds = d3.select('#stacked-area-chart').node().getBoundingClientRect()\n  var margin = {top: 60, right: 230, bottom: 50, left: 70},\n  width = bounds.width - margin.left - margin.right,\n  height = 800 - margin.top - margin.bottom;\n\n  // append the svg object to the body of the page\n  var svg = div.select(\"#stacked-area-chart\")\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  d3.csv('./TRIP_STACK.csv', function(d){\n      return { \n        date : d3.timeParse(\"%Y-%m-%d\")(d.date), \n        Barges : d.Barges, \n        Excursion : d.Excursion,\n        Fishing : d.Fishing,\n        Merchant : d.Merchant,\n        Other : d.Other,\n        'Pleasure Crafts': d['Pleasure Crafts'],\n        Tanker : d.Tanker,\n        Tugs : d.Tugs,\n      }\n  }).then( function(data) {\n    const keys = data.columns.slice(1)  // List of Vessel Types = header of the csv files\n\n    const color = d3.scaleOrdinal()\n      .domain(keys)\n      .range(d3.schemeSet2);\n\n    const stackedData = d3.stack()\n      .keys(keys)\n    (data)\n\n    // Add X axis\n    const x = d3.scaleTime()\n    .domain(d3.extent(data, d => d.date))\n    .range([ 0, width ]);\n    svg.append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(d3.axisBottom(x).ticks(10))\n\n    // Add X axis label:\n    svg.append(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", width)\n      .attr(\"y\", height+40 )\n      .text(\"Temps\");\n\n    // Add Y axis\n    const y = d3.scaleLinear()\n      .domain([0, 800])     // TODO : Y Automatique ?\n      .range([ height, 0 ]);\n    svg.append(\"g\")\n      .call(d3.axisLeft(y).ticks(15))\n\n    // Add Y axis label:\n    svg.append(\"text\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"x\", 0)\n      .attr(\"y\", -20 )\n      .text(\"Nombre de navires\")\n      .attr(\"text-anchor\", \"start\")\n\n    // Area generator\n    const areaChart = svg.append('g')\n    const area = d3.area()\n      .x(function(d) { return x(d.data.date); })\n      .y0(function(d) { return y(d[0]); })\n      .y1(function(d) { return y(d[1]); })\n\n    // Show the areas\n    areaChart\n    .selectAll(\"mylayers\")\n    .data(stackedData)\n    .enter()\n    .append(\"path\")\n      .attr(\"class\", function(d) { return \"myArea \" + d.key })\n      .style(\"fill\", function(d) { return color(d.key); })\n      .attr(\"d\", area)\n\n    // What to do when one group is hovered\n    const highlight = function(d){\n      d3.selectAll(\".myArea\").style(\"opacity\", .1)  // reduce opacity of all groups\n      d3.select(\".\"+d).style(\"opacity\", 1)  // expect the one that is hovered\n    }\n\n    // And when it is not hovered anymore\n    const noHighlight = function(){\n      d3.selectAll(\".myArea\").style(\"opacity\", 1)\n    }\n\n    // LEGEND //\n    const size = 20\n    svg.selectAll(\"myrect\")   // Add one dot in the legend for each name.\n      .data(keys)\n      .enter()\n      .append(\"rect\")\n        .attr(\"x\", width)\n        .attr(\"y\", function(_,i){ return 10 + i*(size+5)}) // 100 is where the first dot appears. 25 is the distance between dots\n        .attr(\"width\", size)\n        .attr(\"height\", size)\n        .attr(\"stroke-width\", 0.5)\n        .attr(\"stroke\", \"black\")\n        .style(\"fill\", function(d){ return color(d)})\n        .on(\"mouseover\", highlight)\n        .on(\"mouseleave\", noHighlight)\n\n    svg.selectAll(\"mylabels\")   // Add one dot in the legend for each name.\n      .data(keys)\n      .enter()\n      .append(\"text\")\n        .attr(\"x\", width + size*1.2)\n        .attr(\"y\", function(_,i){ return 10 + i*(size+5) + (size/2)}) // 100 is where the first dot appears. 25 is the distance between dots\n        .style(\"fill\", function(d){ return color(d)})\n        .text(function(d){ return d})\n        .attr(\"text-anchor\", \"left\")\n        .style(\"alignment-baseline\", \"middle\")\n        .on(\"mouseover\", highlight)\n        .on(\"mouseleave\", noHighlight)\n    })\n}\n","// import { crossfilter } from './crossfilter'\n\nexport function removeDuplicate(name) {\n    if (name == 'Saint John NB') {\n        return \"St. John's\"\n    }\n    return name\n}\n\nexport function cleanPortName(name) {\n    name = removeDuplicate(name)\n    const words = name.split(/,| |\\/|-/)\n    words.forEach((word, index) => {\n        if (word.length > 2) {\n            let newWord = word.toLowerCase()\n\n            let letterIndex = 0\n            while (true) {\n                const letter = newWord[letterIndex]\n                if (letter.match(/[a-z]/i)) {\n                    newWord = newWord.substring(0, letterIndex) + letter.toUpperCase() + newWord.substring(letterIndex + 1)\n                    break\n                }\n                letterIndex += 1\n            }\n            words[index] = newWord\n        }\n    })\n    return words.join(' ')\n}\n\nexport function isPortExcluded(name) {\n    if (name.includes('Virtual Harbour')) {\n        return true\n    }\n    return false\n}\n\nlet dataPerMonth\nlet dataPerPort\nlet data\n\nconst selectWidth = 950\nconst selectHeight = 125\n\n// Reading the data\nd3.csv(\"./TRIP_Part1.csv\").then( function(data1) {\n    d3.csv(\"./TRIP_Part2.csv\").then( function(data2) {\n        d3.csv(\"./TRIP_Part3.csv\").then( function(data3) {\n            // Id,Departure Date,Departure Hardour,Departure Region,Departure Latitude,Departure Longitude,Arrival Date,Arrival Hardour,Arrival Region,Arrival Latitude,Arrival Longitude,Vessel Type,Lenght,Width,DeadWeight Tonnage,Maximum Draugth\n            // 6079000000783579,    2011-01-01 00:00:00.000,Virtual Harbour (Central Region),Central Region,45.71666667,-84.24861111,2011-01-01 15:30:00.000,Goderich,Central Region,43.745,-81.7294441666667,Merchant Bulk,222.509994506836,22.9400005340576,31751,8.72999954223633\n            // 23079000000766048,   2011-01-01 00:10:00.000,Whiffen Head,Newfoundland Region,47.7727836111111,-54.0171797222222,2011-01-01 01:00:00.000,Whiffen Head,Newfoundland Region,47.7727836111111,-54.0171797222222,Tug Fire,38.9000015258789,13.8999996185303,314,3.5\n            // 23079000000766035,   2011-01-01 00:57:00.000,Whiffen Head,Newfoundland Region,47.7727836111111,-54.0171797222222,2011-01-02 12:45:00.000,Virtual Harbour (Newfoundland Region),Newfoundland Region,47.75,-53,Merchant Crude,271.799987792969,46.0499992370606,126646,15.3459997177124\n\n            data = data1.concat(data2).concat(data3)\n\n            dataPerPort = transformDataPorts(data)\n            dataPerMonth = transformDataMonths(data)\n\n            setHistograms(data)\n            setStackedBar(data)\n\n            build(d3.select('#tab-2-content'), dataPerMonth, dataPerPort)\n        });\n    });\n});\n\nexport function transformDataPorts(data) {\n    const map = new Map()\n    data.forEach(line => {\n        const arrivalPort = cleanPortName(line['Arrival Hardour'])\n        const departurePort = cleanPortName(line['Departure Hardour'])\n\n        if (!isPortExcluded(arrivalPort)) {\n            if (!map.has(arrivalPort)) {\n                map.set(arrivalPort, {\n                    'name': arrivalPort,\n                    'traffic': 1\n                })\n            } else {\n                map.get(arrivalPort).traffic += 1\n            }\n        }\n\n        if (!isPortExcluded(departurePort)) {\n            if (!map.has(departurePort)) {\n                map.set(departurePort, {\n                    'name': departurePort,\n                    'traffic': 1\n                })\n            } else {\n                map.get(departurePort).traffic += 1\n            }\n        }\n    })\n\n    const dataPerPort = Array.from(map.values())\n    dataPerPort.sort(function (a, b) {\n        return b.traffic - a.traffic\n    })\n    return dataPerPort\n}\n\nexport function transformDataMonths(data) {\n    const map = new Map()\n    data.forEach(line => {\n        const departureDate = new Date(line['Departure Date'])\n        departureDate.setDate(1)\n        const arrivalDate = new Date(line['Arrival Date'])\n        arrivalDate.setDate(1)\n\n        for (let date = departureDate; date <= arrivalDate; date.setMonth(date.getMonth()+1)) {\n            const sDate = date.toDateString()\n            if (!map.has(sDate)) {\n                map.set(sDate, {\n                    'date': sDate,\n                    'traffic': 1\n                })\n            } else {\n                map.get(sDate).traffic += 1\n            }\n        }\n    })\n\n    const dataPerMonth = Array.from(map.values())\n    dataPerMonth.forEach(month => {\n        month.date = new Date(month.date)\n    })\n    return dataPerMonth\n}\n\nexport function build(div, dataPerMonth, dataPerPort, nb = 20) {\n    buildTable(div, dataPerPort, nb)\n\n    const xScale = d3.scaleBand().padding(0.7)\n    xScale.domain(\n        dataPerMonth.map((month) => month.date))\n    .range([0, 950])\n\n    const yScale = d3.scaleLinear()\n    let max = 0\n    for (const month of dataPerMonth) {\n        if (month.traffic > max) {\n            max = month.traffic\n        }\n    }\n    yScale.domain([0, max]).range([125, 0])\n\n    div.select('#time-select-graph  #graph-clip-path')\n    .selectAll('rect')\n    .data(dataPerMonth)\n    .join('rect')\n    .attr('width', 950 / dataPerMonth.length)\n    .attr('height', data => 125 - yScale(data.traffic))\n    .attr('x', data => xScale(data.date))\n    .attr('y', data => yScale(data.traffic))\n\n    div.select('#time-select-graph')\n    .select('.x.axis')\n    .attr('transform', 'translate(0, ' + 125 + ')')\n    .call(d3.axisBottom(xScale)\n    .tickValues(xScale.domain().filter(function(d, i) {\n        return !(i % 12 - 1)\n    }))\n    .tickFormat(d3.timeFormat(\"%Y\")))\n}\n\nexport function buildTable(div, dataPerPort, nb) {\n    const topTraffic = dataPerPort[0].traffic\n\n    const row = div.select('#port-table tbody')\n    .selectAll('tr.port-row')\n    .data(dataPerPort)\n    .enter()\n    .filter((data, index) => nb <= 0 || index < nb)\n    .append('tr')\n    .attr('data-port', (data, index) => data.name)\n\n    row.append('td')\n    .attr('class', 'port-cell column-rank')\n    .append('div')\n    .attr('class', 'rank-container')\n    .append('span')\n    .text((data, index) => index + 1)\n\n    row.append('td')\n    .attr('class', 'port-cell column-port')\n    .append('div')\n    .attr('class', 'port-container')\n    .append('span')\n    .text((data, index) => data.name)\n\n    row.append('td')\n    .attr('class', 'port-cell column-traffic')\n    .append('div')\n    .attr('class', 'traffic-container')\n    .append('span')\n    .text((data, index) => data.traffic)\n\n    row.append('td')\n    .attr('class', 'port-cell-graph column-proportions')\n    .append('div')\n    .attr('class', 'proportions-container')\n    .style('width', (data, index) => data.traffic / topTraffic * 100 + '%')\n    \n    div.selectAll('#port-table tr').on('click', function() {\n        const row = d3.select(this)\n        const selected = row.classed('selected')\n\n        d3.selectAll('#port-table tr').classed('selected', false)\n        row.classed('selected', !selected)\n\n        const port = selected ? undefined : row.attr('data-port')\n\n        selectPort(port)\n    })\n}\n\nd3.select('#tab-2-content #row-nb-control-refresh').on('click', function() {\n    reset(d3.select('#tab-2-content'))\n    const nbLines = d3.select('#row-nb-control').property('value')\n    build(d3.select('#tab-2-content'), dataPerMonth, dataPerPort, nbLines)\n})\n\nexport function reset(div) {\n    div.select('#port-table tbody').html('')\n    selectPort(undefined)\n}\n\nexport function selectPort(port) {\n    const title = d3.select('#caracteristics-title-port')\n    if (port == undefined) {\n        title.text('AUCUN PORT SÉLECTIONNÉ - CARACTÉRISTIQUES GLOBALES')\n    } else {\n        title.text(port)\n    }\n}\n\nexport function setHistogram(data, max, width, height, id, title) {\n    var svg = d3.select(id)\n        .append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n        .append(\"g\")\n            .attr(\"transform\", \"translate(50,10)\");\n\n    var x = d3.scaleLinear()\n        .domain([0, max])\n        .range([0, width - 100]);\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + (height - 30) + \")\")\n        .call(d3.axisBottom(x))\n\n    var hist = d3.histogram()\n        .value(d => { return d[title]; })\n        .domain(x.domain())\n        .thresholds(x.ticks(40));\n\n    var bins = hist(data);\n\n    var y = d3.scaleLinear()\n        .range([height - 30, 0])\n        .domain([0, d3.max(bins, d => { return d.length; })]);\n    svg.append(\"g\")\n        .call(d3.axisLeft(y).ticks(5));\n\n    svg.selectAll(\"rect\")\n        .data(bins)\n        .enter()\n        .append(\"rect\")\n            .attr(\"x\", 1)\n            .attr(\"transform\", d => { return \"translate(\" + x(d.x0) + \",\" + y(d.length) + \")\"; })\n            .attr(\"width\", d => { return x(d.x1) - x(d.x0); })\n            .attr(\"height\", d => { return height - y(d.length) - 30; })\n            .style(\"fill\", \"#4479AB\")\n}\n\nexport function setHistograms(data) {\n    setHistogram(data, 400, 776, 160, \"#repartition-length\", \"Lenght\");\n    setHistogram(data, 180, 776, 160, \"#repartition-width\", \"Width\")\n    setHistogram(data, 650000, 776, 160, \"#repartition-tonnage\", \"DeadWeight Tonnage\");\n    setHistogram(data, 30, 776, 160, \"#repartition-draught\", \"Maximum Draugth\");\n}\n\nexport function setStackedBar(data) {\n    var svg = d3.select(\"#repartition-types\")\n        .append(\"svg\")\n            .attr(\"height\", 556)\n            .attr(\"width\", 130)\n            .append(\"g\")\n                .attr(\"transform\", \"translate(10,10)\");\n    \n    var total = 0\n    const map = new Map()\n    data.forEach(line => {\n        const type = line['Global Vessel Type']\n        const subtype = line['Vessel Type']\n        total++;\n\n        if (!map.has(type)) {\n            map.set(type, {\n                'type': type,\n                'number': 1,\n                'subtypes': {}\n            })\n        } else {\n            map.get(type).number += 1;\n        }\n            \n        if (!(subtype in map.get(type).subtypes)) {\n            map.get(type).subtypes[subtype] = 1;\n        } else {\n            map.get(type).subtypes[subtype] += 1;\n        }\n    })\n\n    const colors = {\"Barges\": \"#66c2a5\", \"Excursion\": \"#fc8d62\", \"Fishing\": \"#8da0cb\", \"Merchant\": \"#e78ac3\", \"Other\": \"#a6d854\", \"Pleasure Crafts\": \"#ffd92f\", \"Tanker\": \"#e5c494\", \"Tugs\": \"#b3b3b3\"}\n    const darker_colors = {\"Barges\": \"#46b08f\", \"Excursion\": \"#d66236\", \"Fishing\": \"#748cc2\", \"Merchant\": \"#d96aae\", \"Other\": \"#8fbd44\", \"Pleasure Crafts\": \"#d6b313\", \"Tanker\": \"#cfa569\", \"Tugs\": \"#919191\"}\n\n    var currSum = 10\n    for (var type of map.entries()) {\n        var i = 0\n        for (var subtype in type[1].subtypes) {\n            var color_list = i % 2 == 0 ? colors : darker_colors\n            i++\n            svg.append(\"rect\")\n                .attr(\"width\", 130)\n                .attr(\"height\", (Math.ceil(490 * type[1].subtypes[subtype]/total)))\n                .attr(\"transform\", \"translate(10,\" + currSum + \")\")\n                .attr(\"fill\", color_list[type[0]]);\n            currSum += Math.ceil(490 * type[1].subtypes[subtype]/total);\n        }\n    }\n}","export const GLOBAL_VESSEL_TYPE = ['Barges', 'Excursion', 'Fishing', 'Merchant', 'Other', 'Pleasure Crafts', 'Tanker', 'Tugs']\nexport const REGION_NAME = ['Arctic', 'Central', 'East Canadian Water', 'Newfoundland', 'Maritimes', 'Pacific', 'Quebec', 'St. Lawrence Seaway', 'West Canadian Water']\nexport const REGION_COLOR = ['#CAB2D6', '#6A3D9A', '#33A02C', '#FB9A99', '#FDBF6F', '#E31A1C', '#1F78B4', '#A6CEE3', '#FF7F00']\n\nfunction findGlobalVesselType(vesselType) {\n  if (['Barge Bulk Cargo', 'Barge Chemical','Barge Chips','Barge Derrick','Barge General','Barge Log','Barge Miscellaneous','Barge Oil Drilling Rig', 'Barge Oil/Petroleum', 'Barge Rail/Trailer','Barge Self-Propelled','Barge Towed',\"Don't use\",'Landing Craft','Logs Raft Section'].includes(vesselType)) {\n    return 'Barges'\n  } else if (['Excursion Passenger'].includes(vesselType)) {\n    return 'Excursion'\n  } else if (['Crab Boat', 'Dragger (Scallop, Clam, etc.)', 'Factory Ship', 'Fishery Patrol', 'Fishing Vessel', 'Gillnetter', 'Groundfish Boat (Open Boat)', 'Lobster Boat', 'Longliner', 'Other Fishing VSL (Open Boat)', 'Seiner', 'Shrimp Boat', 'Trawler', 'Troller'].includes(vesselType)) {\n    return 'Fishing'\n  } else if (['Cruise', 'Merchant (Dry)', 'Merchant Auto', 'Merchant Bulk', 'Merchant Cement', 'Merchant Coastal', 'Merchant Container', 'Merchant Ferry', 'Merchant General', 'Merchant Lash', 'Merchant Livestock', 'Merchant Ore', 'Merchant Passenger', 'Merchant Rail/Trailer Ferry', 'Merchant Reefer', 'Merchant RO/RO'].includes(vesselType)) {\n    return 'Merchant'\n  } else if (['Yacht - Pleasure Crafts', 'Yacht Power', 'Yacht Sails'].includes(vesselType)) {\n    return 'Pleasure Crafts'\n  } else if(['Merchant (Tanker)', 'Merchant Chemical', 'Merchant Chemical/Oil Products Tanker','Merchant Crude','Merchant Gasoline','Merchant Liquified Gas','Merchant Molasses','Merchant Ore/Bulk/Oil','Merchant Super Tanker','Merchant ULCC','Merchant VLCC','Merchant Water'].includes(vesselType)) {\n    return 'Tanker'\n  } else if (['Tug', 'Tug Fire', 'Tug Harbour', 'Tug Ocean', 'Tug Supply', 'Tugs Workboat'].includes(vesselType)) {\n    return 'Tugs'\n  } else {\n    return 'Other'\n  }\n}\n\nexport function clean(data) {\n  const cleanData = []\n  data.forEach(element => {\n    if (element['Lenght'] != 0 && \n        element['Width'] != 0 & \n        element['Maximum Draugth'] < 30 &&\n        element['Departure Date'] < ['Arrival Date']) {\n      cleanData.push({\n        'Arrival Date': element['Arrival Date'].substring(0,10),\n        'Arrival Hardour': element['Arrival Hardour'],\n        'Arrival Region': element['Arrival Region'],\n        'DeadWeight Tonnage': element['DeadWeight Tonnage'],\n        'Departure Date': element['Departure Date'].substring(0, 10),\n        'Departure Hardour': element['Departure Hardour'],\n        'Departure Region': element['Departure Region'],\n        'Lenght': element['Lenght'],\n        'Maximum Draugth': element['Maximum Draugth'],\n        'Vessel Type': element['Vessel Type'],\n        'Global Vessel Type': findGlobalVesselType(element['Vessel Type']),\n        'Width': element['Width']\n      })\n    }\n  })\n\n  return cleanData\n}\n\nexport function chordMatrix(data, departureDate, arrivalDate) {\n  const matrix = new Array(REGION_NAME.length)\n  for (let index = 0; index < matrix.length; index++) {\n    matrix[index] = new Array(REGION_NAME.length)\n  }\n  \n  REGION_NAME.forEach((departureRegion, i) => {\n    REGION_NAME.forEach((arrivalRegion, j) => {\n      matrix[i][j] = data\n        .filter((d) => {\n          return departureRegion === d['Departure Region'].slice(0,-7)\n            && arrivalRegion === d['Arrival Region'].slice(0,-7)\n            && departureDate <= d['Departure Date']\n            && arrivalDate >= d['Arrival Date']\n        })\n        .map((value) => value.count)\n        .reduce((partialSum, v) => Number(partialSum) + Number(v), 0)\n    })\n  })\n\n  return matrix\n}","import * as preproc from './preprocess.js'\n\nexport function build(div) {\n  buildHeatmap(div)\n}\n\n// https://d3-graph-gallery.com/heatmap.html\nfunction buildHeatmap(div) {\n  // TODO : adapt to div size\n\n  // set the dimensions and margins of the graph\n  const margin = {top: 30, right: 0, bottom: 70, left: 120},\n    width = 500 - margin.left - margin.right,\n    height = 500 - margin.top - margin.bottom;\n\n  // append the svg object to the body of the page\n  const svg = div.select(\"#tab-3-heatmap\")\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right + 50)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\", `translate(${margin.left},${margin.top})`)\n\n  // Labels of row and columns\n  const myGroups = preproc.GLOBAL_VESSEL_TYPE\n  const myVars = preproc.REGION_NAME\n\n  // Build X scales and axis:\n  const x = d3.scaleBand()\n    .range([ 0, width ])\n    .domain(myGroups)\n    .padding(0.01)\n\n  svg.append(\"g\")\n    .attr(\"transform\", `translate(0, ${height})`)\n    .call(d3.axisBottom(x))\n    .selectAll('text')\n    .attr('transform', 'translate(-20,20)rotate(-45)')\n\n  // Build Y scales and axis:\n  const y = d3.scaleBand()\n    .range([ height, 0 ])\n    .domain(myVars)\n    .padding(0.01)\n  svg.append(\"g\")\n    .call(d3.axisLeft(y))\n\n  // Build color scale\n  const myColor = d3.scaleLinear()\n    .range([\"white\", \"#ff0000\"])\n    .domain([0,15]) //maximum hardocodé sur la valeur max\n\n\n  function transformData(d, departureDate, arrivalDate) {\n    let map = heatmapMap()\n\n    d.forEach(line => {\n      if (departureDate <= d['Departure Date'] && arrivalDate >= d['Arrival Date']) return;\n\n      const keyStart = line['Departure Region']+line['Global Vessel Type'];\n      const keyStop = line['Arrival Region']+line['Global Vessel Type'];\n      if (!map.has(keyStart)) {\n        map.set(keyStart, {\n          'Region': line['Departure Region'].slice(0,-7),\n          'Type': line['Global Vessel Type'],\n          'count': 1\n          });\n      } else {\n        const current = map.get(keyStart);\n        current.count += 1;\n        map.set(keyStart, current);\n      }\n      if (!map.has(keyStop)) {\n        map.set(keyStop, {\n          'Region': line['Arrival Region'].slice(0,-7),\n          'Type': line['Global Vessel Type'],\n          'count': 1\n          });\n      } else {\n        const current = map.get(keyStop);\n        current.count += 1;\n        map.set(keyStop, current);\n      }\n    })\n\n    const p = [];\n    let max = 0\n    Array.from(map.values()).forEach((value) => {\n      p.push({\n        'Region': value.Region,\n        'Type': value.Type,\n        'count' : (value.count / (2*311859)) * 100    // TODO : Trouver le nombre total de voyage dans la période sélectionnée\n      })\n      if ((value.count / (2*311859)) * 100 >= max) {\n        max = (value.count / (2*311859)) * 100\n      }\n    })\n    myColor.domain([0,max])\n\n    return p\n  }\n\n  //Read the data\n  d3.csv(\"./TRIP_HEATMAP.csv\").then( function(data) {\n    // add the squares and interaction\n    const transformedData = transformData(data, \"2010-01-01\", \"2023-01-01\")\n    svg.selectAll()\n    .data(transformedData, function(d) {\n      return d.Type+':'+d.Region;\n    })\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"square\")\n    .on('mouseenter', function() { rectSelect(this, x, y) })\n    .on('mouseleave', function() { rectUnselect(this) })\n    .append(\"rect\")\n      .attr(\"x\", function(d) { return x(d.Type) })\n      .attr(\"y\", function(d) { return y(d.Region) })\n      .attr(\"width\", x.bandwidth() )\n      .attr(\"height\", y.bandwidth() )\n      .style(\"fill\", function(d) { return myColor(d.count) })\n    \n      initLegend(svg,myColor)\n      drawLegend(width + margin.right + 10, 0, height, 15, 'url(#gradient)', myColor)\n  })\n}\n\nfunction heatmapMap() {\n  let map = new Map();\n\n  preproc.REGION_NAME.forEach((region) => {\n    preproc.GLOBAL_VESSEL_TYPE.forEach((type) => {\n      const key = region + type\n      map.set(key, {\n        'Region': region,\n        'Type': type,\n        'count': 0\n      })\n    })\n  })\n  return map\n}\n\nfunction rectSelect(element, x, y) {\n  d3.select(element)\n    .append(\"text\")\n    .attr('x', function(d) { return x(d.Type) + x.bandwidth() / 2; })\n    .attr('y', function(d) { return y(d.Region) + y.bandwidth() / 2; })\n    .attr('text-anchor', 'middle')\n    .attr('dominant-baseline', 'middle')\n    .text(function(d) {\n      return d.count.toFixed(2) + '%'\n    })\n}\n\nfunction rectUnselect(element) {\n  d3.select(element)\n    .select('text')\n    .remove()\n}\n\nfunction initLegend(svg, colorScale) {\n  const defs = svg.append('defs')\n  svg.append('rect').attr('class', 'legend bar')\n  svg.append('g').attr('class', 'legend axis')\n\n  const linearGradient = defs\n  .append('linearGradient')\n  .attr('id', 'gradient')\n  .attr('x1', 0).attr('y1', 1).attr('x2', 0).attr('y2', 0)\n\n  linearGradient.selectAll('stop')\n  .data(colorScale.ticks().map((tick, i, nodes) => (\n    {\n      offset: `${ (100*i / nodes.length)}%`,\n      color: colorScale(tick)\n    })))\n  .join('stop')\n  .attr('offset', d => d.offset)\n  .attr('stop-color', d => d.color)\n}\n\nfunction drawLegend(x, y, height, width, fill, colorScale) {\n  d3.select('.legend.bar')\n    .attr('fill', fill)\n    .attr('x', x)\n    .attr('y', y)\n    .attr('height', height)\n    .attr('width', width)\n    \n  const scale = d3.scaleLinear()\n  .domain(colorScale.domain())\n  .range([height, 0])\n\n  let axis = d3.axisRight()\n  .ticks(7)\n  .scale(scale);\n\n  d3.select('.legend.axis')\n  .call(axis)\n  .attr('transform', 'translate('+ (x+15) + ',' + y + ')')\n}\n","import * as preproc from './preprocess.js'\n\n// https://d3-graph-gallery.com/chord.html\n// https://observablehq.com/@d3/directed-chord-diagram\n// https://jyu-theartofml.github.io/posts/circos_plot\n// http://strongriley.github.io/d3/ex/chord.html\nexport function build(div, data) {\n  // TODO : Comment trouver la taille d'une div encore non chargée ?\n  const bounds = d3.select('#stacked-area-chart').node().getBoundingClientRect()\n\n  var margin = {\n    top: Math.max(bounds.width*0.22, 400), \n    right: bounds.width*0.25, \n    bottom: bounds.width*0.25, \n    left: bounds.width*0.25\n  }, // TODO : Revoir valeur\n  width = bounds.width - margin.left - margin.right,\n  height = bounds.width - margin.top - margin.bottom;\n\n  const innerRadius = bounds.width / 6.5 // TODO : Revoir valeur\n  const outerRadius = innerRadius + 10\n\n  // create the svg area\n  const svg = div.select('#tab-3-chord-diagram')\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n  // create input data: a square matrix that provides flow between entities\n  const matrix = preproc.chordMatrix(data, \"2010-01-01\", \"2023-01-01\")\n  \n  const colors = preproc.REGION_COLOR\n\n  // give this matrix to d3.chord(): it will calculates all the info we need to draw arc and ribbon\n  const res = d3.chord()\n    .padAngle(0.05)     // padding between entities (black arc)\n    .sortSubgroups(d3.descending)\n    (matrix)\n\n  // add the links between groups\n  const links = svg\n  .datum(res)\n  .append(\"g\")\n  .attr(\"id\", \"links\")\n  .selectAll(\"path\")\n  .data(function(d) { return d; })\n  .enter()\n  .append(\"path\")\n    .attr(\"class\", \"chord\")\n    .on('mouseenter', function({source, target}, _) {\n      console.log(`${preproc.REGION_NAME[source.index]} --> ${preproc.REGION_NAME[source.subindex]} : ${source.value} navires`)\n    })\n    .attr(\"d\", d3.ribbon()\n      .radius(innerRadius)\n    )\n    .style(\"fill\", function(d){ return(colors[d.source.index]) }) // colors depend on the source group. Change to target otherwise.\n    .style(\"stroke\", \"black\")\n    .attr(\"opacity\", 0.5)\n\n  // Version sans ticks :\n  // add the groups on the outer part of the circle\n  svg.datum(res)\n    .append(\"g\")\n    .attr(\"id\", \"groups\")\n    .selectAll(\"g\")\n    .data(function(d) { return d.groups; })\n    .enter()\n    .append(\"g\")\n    .attr(\"class\", \"group\")\n    .append(\"path\")\n      .style(\"fill\", function(_,i){ return colors[i] })\n      .style(\"stroke\", \"black\")\n      .attr(\"d\", d3.arc()\n        .innerRadius(innerRadius)\n        .outerRadius(outerRadius)\n      )\n      .on(\"mouseover\", function(event, _) {\n        console.log(`Région ${preproc.REGION_NAME[event.index]} (${event.value} navires)`)\n        highlightGroup(event, links)\n      })\n      .on(\"mouseleave\", function() {\n        unhighlightGroup(links)\n      })\n\n  // add the label of groups\n  svg.datum(res)\n    .append(\"g\")\n    .attr(\"id\", \"labels\")\n    .selectAll(\"text\")\n    .data(function(d) { return d.groups; })\n    .enter()\n    .append(\"g\")\n    .attr(\"transform\", function(d) { return \"rotate(\" + (d.startAngle * 180 / Math.PI - 90) + \") translate(\" + outerRadius + \",0)\"; })  // TODO : Revoir valeur\n    .append(\"text\")\n    .attr(\"x\", 8)\n    .attr(\"dy\", \".35em\")\n    .attr(\"transform\", function(d) { return d.startAngle > Math.PI ? \"rotate(180) translate(-16)\" : null; })\n    .style(\"text-anchor\", function(d) { return d.startAngle > Math.PI ? \"end\" : null; })\n    .style(\"fill\", function(_, i){ return(colors[i]) })\n    .style(\"font-weight\", \"bold\")\n    .text(function(d) { return preproc.REGION_NAME[d.index] })\n\n  /* \n  // Version avec ticks :\n  // this group object use each group of the data.groups object\n  var group = svg\n  .datum(res)\n  .append(\"g\")\n  .selectAll(\"g\")\n  .data(function(d) { return d.groups; })\n  .enter()\n\n  // add the group arcs on the outer part of the circle\n  group.append(\"g\")\n    .append(\"path\")\n    .style(\"fill\", function(_,i){ return colors[i] })\n    .style(\"stroke\", \"black\")\n    .attr(\"d\", d3.arc()\n      .innerRadius(300)\n      .outerRadius(310)\n    )\n\n  // Add the ticks\n  group\n  .selectAll(\".group-tick\")\n  .data(function(d) { return groupTicks(d, 25); })    // Controls the number of ticks: one tick each 25 here.\n  .enter()\n  .append(\"g\")\n    .attr(\"transform\", function(d) { return \"rotate(\" + (d.angle * 180 / Math.PI - 90) + \") translate(\" + 305 + \",0)\"; })\n  .append(\"line\")               // By default, x1 = y1 = y2 = 0, so no need to specify it.\n    .attr(\"x2\", 6)\n    .attr(\"stroke\", \"black\")\n\n\n  const tick = 25000\n  // Add the labels of a few ticks:\n  group\n  .selectAll(\".group-tick-label\")\n  .data(function(d) { return groupTicks(d, tick); })\n  .enter()\n  .filter(function(d) { return d.value % tick === 0; })\n  .append(\"g\")\n    .attr(\"transform\", function(d) { return \"rotate(\" + (d.angle * 180 / Math.PI - 90) + \") translate(\" + 305 + \",0)\"; })\n  .append(\"text\")\n    .attr(\"x\", 8)\n    .attr(\"dy\", \".35em\")\n    .attr(\"transform\", function(d) { return d.angle > Math.PI ? \"rotate(180) translate(-16)\" : null; })\n    .style(\"text-anchor\", function(d) { return d.angle > Math.PI ? \"end\" : null; })\n    .text(function(d) { return d.value })\n    .style(\"font-size\", 9)\n  \n  // Returns an array of tick angles and values for a given group and step.\n  function groupTicks(d, step) {\n    var k = (d.endAngle - d.startAngle) / d.value;\n    return d3.range(0, d.value, step).map(function(value) {\n      return {value: value, angle: value * k + d.startAngle};\n    });\n  }\n  */\n}\n\nfunction highlightGroup(event, links) {\n  links\n    .filter(function(d) { return d.source.index != event.index })\n    .attr(\"opacity\", 0.1)\n}\n\nfunction unhighlightGroup(links) {\n  links.attr(\"opacity\", 0.5)\n}\n\nfunction showTooltip() {}\n\nfunction unshowTooltip() {}\n","import * as onglet1 from './scripts/onglet1.js'\nimport * as onglet2 from './scripts/onglet2.js'\nimport * as onglet3 from './scripts/onglet3.js'\nimport * as chord from './scripts/chord.js'\n\n(function (d3) {\n    onglet1.build(d3.select('#tab-1-content'))\n    // onglet2.build(d3.select('#tab-2-content'))\n    // onglet3.build(d3.select('#tab-3-content'))\n\n    // d3.csv('./TRIP_V1.csv', d3.autoType).then((data) => {   \n    //     onglet1.build(d3.select('#tab-1-content'))\n    // })\n\n    // window.addEventListener('resize', () => {\n    //    onglet1.rebuild(d3.select('#tab-1-content'))\n    // })\n\n    d3.csv('./TRIP_CHORD.csv').then(function(chordData) {\n        chord.build(d3.select('#tab-3-content'), chordData)\n    })\n\n    onglet3.build(d3.select('#tab-3-content'))\n\n    // TODO : Resize automatique ?\n\n})(d3)\n\n$('.tab-button').click(function () {\n    if (!$(this).hasClass('tab-button-active')) {\n        const tab = $(this).data('tab')\n    \n        $('button.tab-button').removeClass('tab-button-active')\n        $(this).addClass('tab-button-active')\n    \n        $('.tab-content').removeClass('visible-tab')\n        $(`.tab-content#tab-${tab}-content`).addClass('visible-tab')\n    }\n})"]}